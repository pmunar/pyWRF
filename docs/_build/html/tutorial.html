
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Tutorial &#8212; pyWRF 0.1 documentation</title>
    <link rel="stylesheet" href="_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="&lt;no title&gt;" href="config_file.html" />
    <link rel="prev" title="Setup" href="setup.html" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head>
  <body>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="config_file.html" title="&lt;no title&gt;"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="setup.html" title="Setup"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyWRF 0.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tutorial">
<span id="id1"></span><h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">Â¶</a></h1>
<p>In this tutorial we will cover the main steps to perform in order to analyze a small set of GDAS data.</p>
<p>We will assume that our working directory is under the /home/analysis/ path</p>
<p>It is assumed that we downloaded the GDAS data from 2012-01-01 until 2012-01-09 from the <a class="reference external" href="https://rda.ucar.edu/datasets/ds083.2/index.html#!cgi-bin/datasets/getSubset?dsnum=083.2&amp;listAction=customize&amp;_da=y&amp;gindex=2">UCAR download system</a> by selecting all available parameters and a certain region of interest (we centered ours on the Canary islands, Spain).</p>
<p>Once we get the data, we will assume that we have stored it in the folder /home/wrf_analysis/data path</p>
<p>The outputs generated by the program are assumed to be in /home/analysis/ path</p>
<p>The first thing to do is to run the wrf_config script, in order to get a copy of the configuration file into the working directory.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt; wrf_config config_file.conf
</pre></div>
</div>
<p>Once we have the config file in the working directory we can open it with our favourite editor and edit its content.</p>
<p>For this case, we need to change the parameters in the Data section and in the Analysis section:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="o">[</span>Data<span class="o">]</span>

<span class="nv">data_path</span> <span class="o">=</span> /home/wrf_analysis/data
<span class="nv">output_path</span> <span class="o">=</span> /home/wrf_analysis/
<span class="nv">data_format</span> <span class="o">=</span> grib2

<span class="o">[</span>Analysis<span class="o">]</span>

<span class="nv">start_date</span> <span class="o">=</span> <span class="s2">&quot;2012-01-01_00_00&quot;</span>
<span class="nv">end_date</span>   <span class="o">=</span> <span class="s2">&quot;2012-01-07_00_00&quot;</span>
<span class="nv">group_of_days</span> <span class="o">=</span> <span class="m">5</span>
<span class="nv">parallel</span> <span class="o">=</span> False
<span class="nv">tag</span> <span class="o">=</span> <span class="s2">&quot;My_analysis_test&quot;</span>
</pre></div>
</div>
<p>This way we told the program where our data is (data_path), where do we want the outputs (output_path), which is the format of the input GDAS files (data_format), the stard and end dates of the whole analysis (group_of_days)</p>
<p>Now we just need to run another command to start the analysis:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt; wrf_analysis config_file.conf
</pre></div>
</div>
<p>If you run the command like this, with no optional parameters, it will run all the PREPROCESSING and the WRF scripts. At the end, it will copy all the output files into the wps_out and wrf_out directories, under your working directory (/home/wrf_analysis/ in this case). If these directories do not exist, the program creates them.</p>
<p>The program, in this case, will take all the data and divide it into groups of 5 days (as specified by the group_of_days parameter), and analyze each group together. If the last group is shorter than the group_of_days parameter, the program simply takes the remaining data and analizes it.</p>
<p>If you want to run only a part of the program, e.g. the PREPROCESSING, you can call it like this:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt; wrf_analysis config_file.conf --wps
</pre></div>
</div>
<p>After completion, the outputs will not be moved to the output directory, since they might be needed for other parts of the analysis process.</p>
<p>In order to move all outputs into the working directory, you can do:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt; wrf_analysis config_file.conf --clean
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="setup.html"
                        title="previous chapter">Setup</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="config_file.html"
                        title="next chapter">&lt;no title&gt;</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="config_file.html" title="&lt;no title&gt;"
             >next</a> |</li>
        <li class="right" >
          <a href="setup.html" title="Setup"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyWRF 0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Pere Munar-Adrover.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
  </body>
</html>